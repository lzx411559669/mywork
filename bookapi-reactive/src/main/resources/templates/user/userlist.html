<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="management">
<div th:fragment="content">
    <div class="card-columns" style="margin: 100px 20px 50px 20px">
        <div class="col mb-4" style=" margin:5px;padding: 20px;" th:each="userinfo:${users}">
        <div class="card">
            <div style="margin: 10px auto;width: 100px">
                <img style=" width: 100px; border-radius: 50%;" src="/images/parallel.png">
            </div>
            <div class="card-body" style="text-align: center">
                <h4 class="card-title" th:text="${userinfo.name}">Card title</h4>
                <p class="card-text" style="color: lightgray">腹有诗书气自华，读书万卷始通神。</p>
            </div>
            <ul class="list-group list-group-flush" style="font-size: 14px;margin: 10px">
                <li class="list-group-item"><span class="badge badge-success">一卡通</span><span
                        th:text="| ${userinfo.userNumber}|"></span></li>
                <li class="list-group-item"><span class="badge badge-success">院  系</span><span
                        th:text="| ${userinfo.department}|"></span></li>
                <li class="list-group-item"><span class="badge badge-success">邮  箱</span><span
                        th:text="| ${userinfo.email}|"></span></li>
                <li class="list-group-item"><span class="badge badge-success">电  话</span><span
                        th:text="| ${userinfo.phone}|"></span></li>
            </ul>
            <div>
                <button type="button" class="btn btn-outline-success " th:onclick="|javascript:deleteuser(${userinfo.id})|" style="width:100%;border:none;color: black;margin-bottom: 5px">删除</button>
                <button type="button" class="btn btn-outline-success " data-toggle="modal" th:data-target="|#exampleModalCenter${userinfo.id}|" style="width:100%;border:none;border-top:1px solid lightgray;color: black">修改</button>

                <div class="modal fade" th:id="|exampleModalCenter${userinfo.id}|" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalCenterTitle">编辑</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <form action="/modifyall">
                                    <input type="text" th:value="${userinfo.id}" name="id" hidden>
                                    <input type="text" th:value="${userinfo.userNumber}" name="userNumber" hidden>
                                    <div class="input-group mb-3">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text" id="basic-addon1">昵称</span>
                                        </div>
                                        <input type="text" class="form-control" th:value="${userinfo.name}" name="name"  aria-describedby="basic-addon1">
                                    </div>
                                    <div class="input-group mb-3">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text" id="basic-addon2">密码</span>
                                        </div>
                                        <input type="password" class="form-control" th:value="${userinfo.password}"  name="password" aria-describedby="basic-addon2">
                                    </div>
                                    <div class="input-group mb-3">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text" id="basic-addon3">邮箱</span>
                                        </div>
                                        <input type="text" class="form-control" th:value="${userinfo.email}"  name="email" aria-describedby="basic-addon3">
                                    </div>
                                    <div class="input-group mb-3">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text" id="basic-addon4">电话</span>
                                        </div>
                                        <input type="text" class="form-control" th:value="${userinfo.phone}" name="phone"  aria-describedby="basic-addon4">
                                    </div>
                                    <div class="input-group mb-3">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text" id="basic-addon5">院系</span>
                                        </div>
                                        <input type="text" class="form-control" th:value="${userinfo.department}"  name="department" aria-describedby="basic-addon5">
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" data-dismiss="modal">关闭</button>
                                        <button type="submit" class="btn btn-primary">提交</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
</html>